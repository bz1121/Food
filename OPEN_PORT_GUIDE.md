# 🔓 云服务器开放端口指南

**需要开放的端口**: 42216（宝塔面板）、80（HTTP）

---

## 🔧 阿里云ECS

### 方式1: 控制台配置

**步骤**:
1. 登录阿里云控制台
2. 进入 **ECS控制台**
3. 点击左侧 **实例与镜像** → **实例**
4. 找到你的服务器(14.103.168.111)
5. 点击 **更多** → **网络和安全组** → **安全组配置**
6. 点击 **配置规则**
7. 点击 **手动添加** 或 **快速添加**

**添加规则**:
```
端口范围: 42216/42216
授权对象: 0.0.0.0/0
描述: 宝塔面板
```

```
端口范围: 80/80
授权对象: 0.0.0.0/0
描述: HTTP
```

8. 点击 **保存**

---

## 🔧 腾讯云CVM

### 控制台配置

**步骤**:
1. 登录腾讯云控制台
2. 进入 **云服务器** 控制台
3. 找到你的实例
4. 点击 **安全组**
5. 点击 **修改规则**
6. 点击 **添加规则**

**入站规则**:
```
类型: 自定义TCP
端口: 42216
源: 0.0.0.0/0
策略: 允许
```

```
类型: HTTP(80)
端口: 80
源: 0.0.0.0/0
策略: 允许
```

7. 点击 **完成**

---

## 🔧 华为云ECS

### 控制台配置

**步骤**:
1. 登录华为云控制台
2. 进入 **弹性云服务器**
3. 点击你的实例名称
4. 切换到 **安全组** 标签
5. 点击安全组名称
6. 点击 **入方向规则**
7. 点击 **添加规则**

**规则**:
```
协议端口: TCP:42216
源地址: 0.0.0.0/0
描述: 宝塔面板
```

```
协议端口: TCP:80
源地址: 0.0.0.0/0
描述: HTTP
```

---

## 🔧 使用命令行（所有云平台通用）

### 在服务器上配置UFW防火墙

```bash
# 允许42216端口
sudo ufw allow 42216

# 允许80端口
sudo ufw allow 80

# 允许443端口（HTTPS，建议）
sudo ufw allow 443

# 查看状态
sudo ufw status

# 如果UFW未启用
sudo ufw enable
```

---

## 📋 需要开放的端口清单

| 端口 | 用途 | 必需 |
|------|------|------|
| 22 | SSH | ✅ 必需 |
| 80 | HTTP (TasteFinder前端) | ✅ 必需 |
| 443 | HTTPS | ⭐ 推荐 |
| 8080 | 后端API | ⚠️ 临时（后续用Nginx代理）|
| 42216 | 宝塔面板 | ✅ 必需 |
| 3306 | MySQL | ❌ 不建议（仅内网）|
| 6379 | Redis | ❌ 不建议（仅内网）|

---

## ✅ 配置完成后

### 测试端口

**在本地PowerShell测试**:
```bash
# 测试80端口
Test-NetConnection -ComputerName 14.103.168.111 -Port 80

# 测试42216端口
Test-NetConnection -ComputerName 14.103.168.111 -Port 42216
```

**或使用浏览器直接访问**:
```
https://14.103.168.111:42216/8a2e4970
```

---

## 🎯 快速访问宝塔

**地址**: https://14.103.168.111:42216/8a2e4970  
**用户名**: ybmzzksi  
**密码**: 1b6a0c21

**首次访问**:
- 浏览器会提示"不安全"
- 点击"高级" → "继续访问"即可

---

## 💡 如果不知道用的哪个云平台

**查看方法**:

**方式1**: 查看服务器厂商
```bash
# 在服务器执行
cat /etc/os-release
```

**方式2**: 查看你购买服务器的网站
- 阿里云: aliyun.com
- 腾讯云: cloud.tencent.com
- 华为云: huaweicloud.com

**方式3**: 联系服务器提供商客服

---

**开放42216和80端口后，就可以访问宝塔面板了！** 🔓✅

